<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Kasir</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007bff">
</head>

<body>

    <div class="app-container">

        <section class="product-list-section">

            <header class="main-header">
                <h1>Aplikasi Kasir</h1>
                <div class="header-nav">
                    <a href="laporan.html" class="nav-btn">Laporan</a>
                    <a href="stok.html" class="nav-btn">Stok</a>
                    <button id="logout-button" class="logout-btn">Logout</button>
                </div>
            </header>
            <section class="settings-section">
                <div class="setting-item">
                    <span class="setting-label">Mode Pembayaran</span>
                    <div id="payment-mode-switch" class="payment-switch">
                        <input type="radio" id="mode-manual" name="payment_mode" value="manual">
                        <label for="mode-manual">Manual</label>
                        <input type="radio" id="mode-otomatis" name="payment_mode" value="otomatis">
                        <label for="mode-otomatis">Otomatis</label>
                        <span class="slider"></span>
                    </div>
                </div>
                <div class="setting-item">
                    <span class="setting-label">Pemesanan Mandiri</span>
                    <div id="self-ordering-switch" class="payment-switch">
                        <input type="radio" id="mode-on" name="self_ordering_mode" value="true">
                        <label for="mode-on">ON</label>
                        <input type="radio" id="mode-off" name="self_ordering_mode" value="false">
                        <label for="mode-off">OFF</label>
                        <span class="slider"></span>
                    </div>
                </div>
            </section>

            <div style="margin-bottom: 15px; display: flex; gap: 10px;">
            </div>

            <h2>Daftar Produk</h2>
            <div id="product-list" class="grid-container">
            </div>
        </section>

        <div class="right-column">
            <section class="validation-section hidden">
                <h2>Validasi Pembayaran</h2>
                <div id="validation-list">
                    <p class="info-text">Belum ada pembayaran yang perlu divalidasi.</p>
                </div>
            </section>
            <section class="cart-section">
                <h2>Keranjang</h2>
                <div id="cart-items">
                    <p>Keranjang masih kosong.</p>
                </div>
                <hr>
                <div class="total-section">
                    <h3>Total:</h3>
                    <h3 id="total-price">Rp 0</h3>
                </div>
                <button id="btn-pay-cash" class="btn-pay btn-main-action">Bayar Tunai</button>
            </section>
            <section class="history-section">
                <h2>Riwayat Transaksi</h2>
                <div id="transaction-list">
                    <p>Belum ada riwayat transaksi.</p>
                </div>
            </section>
        </div>

    </div>

    <div id="cash-payment-overlay" class="overlay-container hidden">
        <div class="modal-content">
            <h2>Pembayaran Tunai</h2>
            <div class="cash-details">
                <div class="cash-row">
                    <span>Total Belanja:</span>
                    <span id="cash-total-amount">Rp 0</span>
                </div>
                <div class="cash-row">
                    <label for="cash-received-input">Uang Diterima (Rp):</label>
                    <input type="number" id="cash-received-input" placeholder="misal: 50000">
                </div>
                <div class="cash-row change-row">
                    <span>Kembalian:</span>
                    <span id="cash-change-amount">Rp 0</span>
                </div>
            </div>
            <div class="modal-actions">
                <button id="cancel-cash-btn" type="button">Batal</button>
                <button id="confirm-cash-btn" type="button">Konfirmasi & Cetak</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.0/build/qrcode.min.js"></script>
    <script src="app.js"></script>
</body>

</html>